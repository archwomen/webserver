server.modules += ( "mod_proxy" )

## might be one of 'hash', 'round-robin' or 'fair' (default).
#proxy.balance = "fair"

#alias.url  = ("/media"          =>  "/srv/http/archwomen.org/media/"         )

#$HTTP["url"] !~ "(?:^/media|^/assets|^/wiki|^blog|^/~|^/news|^/stats|^/projectmanager|^/test|^/calendar|^/cgi-bin|/$)" {
$HTTP["url"] !~ "^/media" {
  proxy.server = ( "" => ( "" => (
                            "host" => "127.0.0.1",
                            "port" => 5000
                         ))
  )
}

alias.url  = ("/media"          =>  "/srv/http/archwomen.org/media/"         )

## Tomcat example
#proxy.server = ( ".jsp" => ( "tomcat" => (
#                                          "host" => "192.168.1.1",
#                                          "port" => 80
#                                         ))
#)

## Flask Website
#$HTTP["url"] =~ "^/flask" {
#    proxy.server = ( "" => ((
#                              "host" => "127.0.0.1",
#                              "port" => 5000
#                           ))
#    )
#}
